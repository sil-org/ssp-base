<!DOCTYPE html>
<html lang="{{ currentLanguage }}">
<head>
  <title>{{ '{mfa:title}'|trans({'%idpName%': idp_name}) }}</title>

  {{ include('header.twig') }}

  <script src="{{ remember_me_js_path }}"></script>
</head>
<body class="gradient-bg">
<div class="mdl-layout mdl-layout--fixed-header">
  <main class="mdl-layout__content" layout-children="column">
    <form layout-children="column" method="post" autocomplete="off" style="margin:auto;">
      <div class="mdl-card mdl-shadow--8dp">
        <div class="mdl-card__media white-bg margin" layout-children="column">
          <img src="/logo.png" alt="{{ '{login:logo}'|trans({'%idpName%': idp_name}) }}" style="max-width:150px;">
        </div>

        <div class="mdl-card__title center">
          <h1 class="mdl-card__title-text">
            {{ '{mfa:header}'|trans({'%idpName%': idp_name}) }}
          </h1>
        </div>

        <div class="mdl-card__title center" style="padding:0px;">
          <h1 class="mdl-card__title-text" style="font-size: 1.25rem;">
            {{ '{mfa:recovery_header}'|trans }}
          </h1>
        </div>

        <div class="mdl-card__title center">
          <p class="mdl-card__subtitle-text">
            {{ '{mfa:recovery_sent}'|trans }}
          </p>
        </div>

        <div class="mdl-card__supporting-text" layout-children="column">
          <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
            <label for="mfaSubmission" class="mdl-textfield__label">
              {{ '{mfa:recovery_input}'|trans }}
            </label>
            <input
              name="mfaSubmission"
              class="mdl-textfield__input mdl-color-text--black"
              autofocus
              id="mfaSubmission"
              autocomplete="off"
              data-1p-ignore
            >
          </div>
        </div>

        {% if error_message is not empty %}
          <div class="mdl-card__supporting-text" layout-children="column">
            <p class="mdl-color-text--red error">
              <i class="material-icons">error</i>

              <span class="mdl-typography--caption">
                {{ error_message|e }}
              </span>
            </p>
          </div>

        {% if analytics_tracking_id is not empty %}
          <script>
            gtag('event', '{{ error_message|e('js')|raw }}', {
              'event_category': 'error',
              'event_label': 'recoverycode'
            });
          </script>
        {% endif %}
        {% endif %}

        <div style="margin:auto;">
          <label for="rememberMe" class="mdl-checkbox mdl-js-checkbox mdl-js-ripple-effect">
            <span class="mdl-checkbox__label">
                {{ '{mfa:remember_this}'|trans }}
            </span>
            <input type="checkbox" id="rememberMe" name="rememberMe" checked class="mdl-checkbox__input">
          </label>
        </div>

        <div class="mdl-card__actions" layout-children="row">
          {{ include('other_mfas.twig') }}

          <span flex></span>

          <button name="submitMfa" type="submit" class="mdl-button mdl-button--raised mdl-button--primary">
            {{ '{mfa:button_verify}'|trans }}
          </button>
        </div>
      </div>
    </form>
  </main>
</div>
</body>
</html>
